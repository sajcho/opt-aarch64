# Description:	X Compositor (a fork of compton) - use dbus-elogind
# URL:		https://github.com/yshui/picom
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	asciidoc dbus-elogind libconfig libev libxcomposite libxinerama mesa libpcre pixman uthash xcb-util-image xcb-util-renderutil

name=picom-elogd
_realname=picom
version=8.2
release=0
source=(https://github.com/yshui/${_realname}/archive/v${version}/${_realname}-${version}.tar.gz)

build() {
	cd ${_realname}-${version}

	build-meson \
		-Dwith_docs=true \
		. build

	meson compile ${JOBS:+-j ${JOBS}} -C build

	DESTDIR=$PKG meson install --no-rebuild -C build

	install -D -m 0644 build/man/picom.1 $PKG/usr/share/man/man1/picom.1
	install -D -m 0644 build/man/picom-trans.1 $PKG/usr/share/man/man1/picom-trans.1
	install -D -m 0644 picom.sample.conf $PKG/usr/share/picom/picom.conf.example
}
