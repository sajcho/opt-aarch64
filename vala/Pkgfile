# Description:	Compiler for the GObject type system
# URL:		https://wiki.gnome.org/Projects/Vala
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	gobject-introspection

name=vala
version=0.54.5
release=1
source=(https://download.gnome.org/sources/${name}/${version%.*}/${name}-${version}.tar.xz)

build() {
	cd ${name}-${version}

	CFLAGS+=" -Wno-incompatible-pointer-types -Wno-deprecated-declarations"

	./configure \
		--prefix=/usr \
		--disable-dependency-tracking \
		--disable-valadoc

	make V=1

	make install DESTDIR=$PKG

	rm -r $PKG/usr/share/devhelp

	find $PKG -type f -name '*.la' -delete
}
