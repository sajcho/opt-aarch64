# Description:	Ruby extension for GNU dbm.
# URL:		https://github.com/ruby/gdbm
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	ruby

name=ruby-gdbm
_gemname=gdbm
version=2.1.0
release=1
source=(https://github.com/ruby/gdbm/archive/v${version}/${name}-${version}.tar.gz)


build() {
	cd ${_gemname}-${version}

	gem build ${_gemname}.gemspec

	local gemdir="$PKG/$(ruby -e 'puts Gem.default_dir')"

	gem install \
		--local \
		--install-dir "${gemdir}" \
		--bindir "$PKG/usr/bin" \
		--ignore-dependencies \
		--verbose \
		${_gemname}

	# Remove unnessecary files
	cd "${gemdir}"
	rm -r build_info cache doc plugins
}
