# Description:	GStreamer streaming media framework base plug-ins
# URL:		https://gstreamer.freedesktop.org
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	alsa-lib cdparanoia expat glib gobject-introspection graphene gstreamer gtk3 libice libogg libsm libtheora libvisual libvorbis libxv mesa meson opus orc perl wayland

name=gst-plugins-base
version=1.18.5
release=1
source=(https://gstreamer.freedesktop.org/src/${name}/${name}-${version}.tar.xz)

build() {
	cd ${name}-${version}

	build-meson \
		--wrap-mode=nodownload \
		--auto-features=enabled \
		-Dalsa=enabled \
		-Dorc=enabled \
		-Dtremor=disabled \
		-Dtests=disabled \
		-Dexamples=disabled \
		-Ddoc=disabled \
		-Dgtk_doc=disabled \
		-Dpackage-name="GStreamer base plug-ins (SAUX Aarch64)" \
		-Dpackage-origin="https://github.com/sajcho/" \
		. build

	meson compile ${JOBS:+-j ${JOBS}} -C build

	DESTDIR=$PKG meson install --no-rebuild -C build

	rm -r $PKG/usr/share/locale
}
